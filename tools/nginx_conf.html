<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>nginx é…ç½®æ–‡ä»¶è¯¦è§£ | æŠ€æœ¯éšç¬”</title>
    <meta name="description" content="è¥¿çº¢æŸ¿çº¢çƒ§è‚‰çš„åšå®¢">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/blog/assets/style.B0JaZLvH.css" as="style">
    <link rel="preload stylesheet" href="/blog/vp-icons.css" as="style">
    
    <script type="module" src="/blog/assets/app.SKCT_y3J.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/blog/assets/chunks/theme.kz9fL415.js">
    <link rel="modulepreload" href="/blog/assets/chunks/framework.C7v41-tM.js">
    <link rel="modulepreload" href="/blog/assets/tools_nginx_conf.md.BOOg2OXK.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/blog/" data-v-1168a8e4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/blog/logo.png" alt data-v-8426fc1a><!--]--><span data-v-1168a8e4>æŠ€æœ¯éšç¬”</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>ä¸»é¡µ</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/devops/aws.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Devops</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/tools/git_config_ssh.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Tools</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/%E5%89%8D%E7%AB%AF/pnpm.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>å‰ç«¯</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wwELi/blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>å¤–è§‚</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wwELi/blog" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>èœå•</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>è¿”å›é¡¶éƒ¨</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/git_config_ssh.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Git é…ç½®å¤šä¸ªSSH</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/liux%E5%91%BD%E4%BB%A4.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>xargs</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/nginx_conf.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>nginx é…ç½®æ–‡ä»¶è¯¦è§£</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4%E9%85%8D%E7%BD%AE.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>å¿«æ·å‘½ä»¤é…ç½®</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 collapsible collapsed" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>examples</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b3fd67f8><span class="vpi-chevron-right caret-icon" data-v-b3fd67f8></span></div></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/examples/api-examples.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Runtime API Examples</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/blog/tools/examples/markdown-examples.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Markdown Extension Examples</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>æœ¬é¡µå†…å®¹</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _blog_tools_nginx_conf" data-v-39a288b8><div><h1 id="nginx-é…ç½®æ–‡ä»¶è¯¦è§£" tabindex="-1">nginx é…ç½®æ–‡ä»¶è¯¦è§£ <a class="header-anchor" href="#nginx-é…ç½®æ–‡ä»¶è¯¦è§£" aria-label="Permalink to &quot;nginx é…ç½®æ–‡ä»¶è¯¦è§£&quot;">â€‹</a></h1><h2 id="ğŸ§©-nginx-æ˜¯ä»€ä¹ˆ" tabindex="-1">ğŸ§© nginx æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#ğŸ§©-nginx-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;ğŸ§© nginx æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p><strong>Nginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Web æœåŠ¡å™¨å’Œåå‘ä»£ç†æœåŠ¡å™¨ã€‚å¸¸ç”¨äºï¼š</strong></p><ul><li>é™æ€èµ„æºæœåŠ¡ï¼ˆå¦‚å‰ç«¯æ–‡ä»¶ï¼‰ï¼›</li><li>åå‘ä»£ç†ï¼ˆè½¬å‘è¯·æ±‚åˆ°åç«¯æœåŠ¡ï¼Œå¦‚ Node.js / Java / Pythonï¼‰ï¼›</li><li>è´Ÿè½½å‡è¡¡ï¼›</li><li>HTTPS / HTTP2ï¼›</li><li>ç¼“å­˜ã€å‹ç¼©ã€ä¸­é—´å±‚å®‰å…¨æ§åˆ¶ã€‚</li></ul><h2 id="ğŸ§±-é…ç½®ç»“æ„å±‚æ¬¡è¯´æ˜" tabindex="-1">ğŸ§± é…ç½®ç»“æ„å±‚æ¬¡è¯´æ˜ <a class="header-anchor" href="#ğŸ§±-é…ç½®ç»“æ„å±‚æ¬¡è¯´æ˜" aria-label="Permalink to &quot;ğŸ§± é…ç½®ç»“æ„å±‚æ¬¡è¯´æ˜&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>å±‚çº§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>å…¨å±€å—main</strong></td><td>è®¾ç½® Nginx è¿è¡Œçš„å…¨å±€å‚æ•°ï¼Œå¦‚ç”¨æˆ·ã€è¿›ç¨‹æ•°ã€æ—¥å¿—ä½ç½®ç­‰</td></tr><tr><td><strong>events å—</strong></td><td>å½±å“ Nginx ä¸å®¢æˆ·ç«¯çš„è¿æ¥å¤„ç†ï¼Œå¦‚æœ€å¤§è¿æ¥æ•°ã€I/O æ¨¡å‹</td></tr><tr><td><strong>http å—</strong></td><td>åŒ…å« Web æœåŠ¡ç›¸å…³é…ç½®ï¼Œå¦‚ MIME ç±»å‹ã€æ—¥å¿—ã€gzipã€server å®šä¹‰</td></tr><tr><td><strong>server å—</strong></td><td>ä¸€ä¸ªè™šæ‹Ÿä¸»æœºçš„é…ç½®ï¼Œå¯ç›‘å¬ä¸åŒåŸŸå/ç«¯å£</td></tr><tr><td><strong>location å—</strong></td><td>å®šä¹‰è¯·æ±‚è·¯å¾„çš„åŒ¹é…è§„åˆ™åŠå¤„ç†æ–¹å¼ï¼ˆåå‘ä»£ç†ã€é™æ€èµ„æºã€é‡å®šå‘ç­‰ï¼‰</td></tr><tr><td><strong>configuration å—</strong></td><td>èƒ½å¤Ÿå°†å…¶ä»–æ–‡ä»¶åŒ…å«åœ¨nginxé…ç½®æ–‡ä»¶ä¸­</td></tr></tbody></table><h2 id="âš™ï¸-é…ç½®" tabindex="-1">âš™ï¸ é…ç½® <a class="header-anchor" href="#âš™ï¸-é…ç½®" aria-label="Permalink to &quot;âš™ï¸ é…ç½®&quot;">â€‹</a></h2><p>HTTP æ ¸å¿ƒæ¨¡å—æ˜¯Nginxä¸­æœ€å¤§çš„ä¸€ä¸ªæ¨¡å—ï¼Œç»å¤§å¤šæ•°ä¸ Web æœåŠ¡ã€åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€ç¼“å­˜ã€æ—¥å¿—ã€å‹ç¼©ã€å®‰å…¨ç›¸å…³çš„é…ç½®éƒ½å†™åœ¨è¿™é‡Œã€‚ ä¸»è¦åŒ…å«http/server/locationä¸‰ä¸ªå±‚æ¬¡çš„æ¯ä¸ªå±‚æ¬¡éƒ½å¯ä»¥æ’å…¥æŒ‡ä»¤</p><ul><li>http åŒºæ®µä½äºé…ç½®æ–‡ä»¶çš„æ ¹éƒ¨ï¼Œåœ¨è¿™ä¸ªåŒºæ®µä¸­å…è®¸å®šä¹‰HTTPæ¨¡å—çš„æŒ‡ä»¤å’ŒHTTPæ¨¡å—çš„ç›¸å…³åŒºæ®µã€‚</li><li>serveråŒºæ®µç”¨äºå£°æ˜ä¸€ä¸ªç«™ç‚¹ï¼Œè¯¥åŒºæ®µåªèƒ½ç”¨åœ¨httpåŒºæ®µä¸­ã€‚</li><li>loation åŒºæ®µåº”ç”¨äºç½‘ç«™ç‰¹å®šçš„URIä½ç½®ï¼Œè¯¥åŒºæ®µèƒ½å¤Ÿç”¨äºserveråŒºæ®µä¸­ï¼Œä¹Ÿèƒ½åµŒå¥—åœ¨å…¶ä»–locationä¸­ã€‚</li></ul><div class="language-nginx vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">########### æ¯ä¸ªæŒ‡ä»¤å¿…é¡»æœ‰åˆ†å·ç»“æŸã€‚#################</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#user administrator administrators;  #é…ç½®ç”¨æˆ·æˆ–è€…ç»„ï¼Œé»˜è®¤ä¸ºnobody nobodyã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#worker_processes 2;  #å…è®¸ç”Ÿæˆçš„è¿›ç¨‹æ•°ï¼Œé»˜è®¤ä¸º1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#pid /nginx/pid/nginx.pid; Â  #æŒ‡å®šnginxè¿›ç¨‹è¿è¡Œæ–‡ä»¶å­˜æ”¾åœ°å€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error_log </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">log/error.log </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">debug</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#åˆ¶å®šæ—¥å¿—è·¯å¾„ï¼Œçº§åˆ«ã€‚è¿™ä¸ªè®¾ç½®å¯ä»¥æ”¾å…¥å…¨å±€å—ï¼Œhttpå—ï¼Œserverå—ï¼Œçº§åˆ«ä»¥æ­¤ä¸ºï¼šdebug|info|notice|warn|error|crit|alert|emerg</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   accept_mutex </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è®¾ç½®ç½‘è·¯è¿æ¥åºåˆ—åŒ–ï¼Œé˜²æ­¢æƒŠç¾¤ç°è±¡å‘ç”Ÿï¼Œé»˜è®¤ä¸ºon</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   multi_accept </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è®¾ç½®ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦åŒæ—¶æ¥å—å¤šä¸ªç½‘ç»œè¿æ¥ï¼Œé»˜è®¤ä¸ºoff</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Â   #use epoll; Â  Â   #äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œselect|poll|kqueue|epoll|resig|/dev/poll|eventport</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   worker_connections </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; Â   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#æœ€å¤§è¿æ¥æ•°ï¼Œé»˜è®¤ä¸º512</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   include </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Â  Â  Â  mime.types; Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#æ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   default_type </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> application/octet-stream; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#é»˜è®¤æ–‡ä»¶ç±»å‹ï¼Œé»˜è®¤ä¸ºtext/plain</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Â   #access_log off; #å–æ¶ˆæœåŠ¡æ—¥å¿— Â  Â </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   log_format </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">myFormat </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">remote_addr</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">â€“$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">remote_user</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> [$</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">time_local</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">] $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">request</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">status</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">body_bytes_sent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http_referer</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http_user_agent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> $</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">http_x_forwarded_for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è‡ªå®šä¹‰æ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   access_log </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">log/access.log myFormat;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#combinedä¸ºæ—¥å¿—æ ¼å¼çš„é»˜è®¤å€¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   sendfile </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#å…è®¸sendfileæ–¹å¼ä¼ è¾“æ–‡ä»¶ï¼Œé»˜è®¤ä¸ºoffï¼Œå¯ä»¥åœ¨httpå—ï¼Œserverå—ï¼Œlocationå—ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   sendfile_max_chunk </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100k</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#æ¯ä¸ªè¿›ç¨‹æ¯æ¬¡è°ƒç”¨ä¼ è¾“æ•°é‡ä¸èƒ½å¤§äºè®¾å®šçš„å€¼ï¼Œé»˜è®¤ä¸º0ï¼Œå³ä¸è®¾ä¸Šé™ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   keepalive_timeout </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">65</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º75sï¼Œå¯ä»¥åœ¨httpï¼Œserverï¼Œlocationå—ã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">â€‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    tcp_nopush </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æé«˜ç½‘ç»œåŒ…ä¼ è¾“æ•ˆç‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    tcp_nodelay </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å‡å°‘å»¶è¿Ÿ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    types_hash_max_size </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    gzip </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¯ç”¨ gzip å‹ç¼©</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    gzip_types </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">text/plain application/json text/css application/javascript;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è´Ÿè½½å‡è¡¡å®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   upstream</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mysvr </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ Â  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â   server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 127.0.0.1:7878;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â   server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 192.168.10.121:3333 backup;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#çƒ­å¤‡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   error_page </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">404</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://www.baidu.com; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#é”™è¯¯é¡µ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â   server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â   keepalive_requests </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">120</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#å•è¿æ¥è¯·æ±‚ä¸Šé™æ¬¡æ•°ã€‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â   listen </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Â  Â  Â  8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ç›‘å¬ç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â   server_name </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> www.website.com website.com;; Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ç›‘å¬åœ°å€, nginxæ”¶åˆ°httpè¯·æ±‚æ—¶ï¼Œæ ¹æ®è¯·æ±‚headerä¸­Hostå€¼ä¸æ‰€æœ‰serveråŒºæ®µæ¯”è¾ƒï¼Œç¬¬ä¸€ä¸ªä¸ä¸»æœºååŒ¹é…çš„serverå—å°†è¢«é€‰ä¸­ï¼Œå¦åˆ™å¦‚æœæ²¡æœ‰serveråŒºæ®µä¸å®¢æˆ·ç«¯è¯·æ±‚çš„ä¸»æœºååŒ¹é…ï¼Œnginxä¼šé€‰æ‹©ç¬¬ä¸€ä¸ªserveråŒºæ®µã€‚ Â  Â  Â  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â   location</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  ~*^.+$ </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{ Â  Â  Â  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è¯·æ±‚çš„urlè¿‡æ»¤ï¼Œæ­£åˆ™åŒ¹é…ï¼Œ~ä¸ºåŒºåˆ†å¤§å°å†™ï¼Œ~*ä¸ºä¸åŒºåˆ†å¤§å°å†™ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Â  Â  Â  Â  Â  #root path;  #æ ¹ç›®å½•</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> Â  Â  Â  Â  Â  #index vv.txt;  #è®¾ç½®é»˜è®¤é¡µ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           #alias /spool/w3/location; æŒ‡å®šuriè·¯å¾„çš„åˆ«åï¼Œå®ƒä¸ä¼šæ”¹å˜rootçš„å€¼ã€‚uriä¸­locationåé¢çš„éƒ¨åˆ†ä¼šè¿½åŠ åˆ°è¿™ä¸ªç›®å½•åé¢ï¼Œè€Œlocationè‡ªèº«æŒ‡å®šçš„uriè·¯å¾„æ˜¯&quot;ä¸¢å¼ƒçš„&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">           #try_files:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â  Â  Â  proxy_pass </span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http://mysvr;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#è¯·æ±‚è½¬å‘mysvr å®šä¹‰çš„æœåŠ¡å™¨åˆ—è¡¨</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â  Â  Â  deny </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">127.0.0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#æ‹’ç»çš„ip</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Â  Â  Â  Â  Â  allow </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">172.18.5.54</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#å…è®¸çš„ip Â  Â  Â  Â  Â  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â  Â  Â   } </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="demoåœ°å€" tabindex="-1"><a href="https://github.com/wwELi/nginx-ssl" target="_blank" rel="noreferrer">Demoåœ°å€</a> <a class="header-anchor" href="#demoåœ°å€" aria-label="Permalink to &quot;[Demoåœ°å€](https://github.com/wwELi/nginx-ssl)&quot;">â€‹</a></h3></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><!----><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>æœ€åæ›´æ–°äº: <time datetime="2025-10-30T06:00:51.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/blog/tools/liux%E5%91%BD%E4%BB%A4.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸Šä¸€é¡µ</span><span class="title" data-v-e257564d>xargs</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/blog/tools/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4%E9%85%8D%E7%BD%AE.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>ä¸‹ä¸€é¡µ</span><span class="title" data-v-e257564d>å¿«æ·å‘½ä»¤é…ç½®</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"devops_aws.md\":\"CaegMZ72\",\"devops_docker.md\":\"BimhdDiy\",\"devops_k8s.md\":\"CeyDM_St\",\"index.md\":\"DzHr284Y\",\"tools_examples_api-examples.md\":\"iWgbr2Kk\",\"tools_examples_markdown-examples.md\":\"BQdEcml1\",\"tools_git_config_ssh.md\":\"CXhLMJrZ\",\"tools_liuxå‘½ä»¤.md\":\"BDBp06ft\",\"tools_nginx_conf.md\":\"BOOg2OXK\",\"tools_å¿«æ·å‘½ä»¤é…ç½®.md\":\"D09cMjdZ\",\"å‰ç«¯_pnpm.md\":\"8wcZrk5d\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"æŠ€æœ¯éšç¬”\",\"description\":\"è¥¿çº¢æŸ¿çº¢çƒ§è‚‰çš„åšå®¢\",\"base\":\"/blog/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"ä¸»é¡µ\",\"link\":\"/\"},{\"text\":\"Devops\",\"link\":\"/devops/aws\",\"activeMatch\":\"/devops/aws\"},{\"text\":\"Tools\",\"link\":\"/tools/git_config_ssh\",\"activeMatch\":\"/tools/git_config_ssh\"},{\"text\":\"å‰ç«¯\",\"link\":\"/å‰ç«¯/pnpm\",\"activeMatch\":\"/å‰ç«¯/pnpm\"}],\"sidebar\":{\"/devops/\":[{\"text\":\"â˜ï¸ AWS å…¥é—¨æ•™ç¨‹\",\"link\":\"/devops/aws\"},{\"text\":\"ğŸ³ Docker å­¦ä¹ æ–‡æ¡£\",\"link\":\"/devops/docker\"},{\"text\":\"â˜¸ï¸ Kubernetes å…¥é—¨\",\"link\":\"/devops/k8s\"}],\"/tools/\":[{\"text\":\"Git é…ç½®å¤šä¸ªSSH\",\"link\":\"/tools/git_config_ssh\"},{\"text\":\"xargs\",\"link\":\"/tools/liuxå‘½ä»¤\"},{\"text\":\"nginx é…ç½®æ–‡ä»¶è¯¦è§£\",\"link\":\"/tools/nginx_conf\"},{\"text\":\"å¿«æ·å‘½ä»¤é…ç½®\",\"link\":\"/tools/å¿«æ·å‘½ä»¤é…ç½®\"},{\"text\":\"examples\",\"items\":[{\"text\":\"Runtime API Examples\",\"link\":\"/tools/examples/api-examples\"},{\"text\":\"Markdown Extension Examples\",\"link\":\"/tools/examples/markdown-examples\"}],\"collapsed\":true}],\"/å‰ç«¯/\":[{\"text\":\"pnpm ä½¿ç”¨\",\"link\":\"/å‰ç«¯/pnpm\"}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wwELi/blog\"}],\"outlineTitle\":\"æœ¬é¡µå†…å®¹\",\"lastUpdated\":{\"text\":\"æœ€åæ›´æ–°äº\"},\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"darkModeSwitchLabel\":\"å¤–è§‚\",\"sidebarMenuLabel\":\"èœå•\",\"returnToTopLabel\":\"è¿”å›é¡¶éƒ¨\",\"langMenuLabel\":\"è¯­è¨€\",\"notFound\":{\"title\":\"é¡µé¢æœªæ‰¾åˆ°\",\"quote\":\"å“å‘€ï¼Œè¿™ä¸ªé¡µé¢ä¸è§äº† ğŸ˜¢\",\"linkText\":\"è¿”å›é¦–é¡µ\"},\"outline\":[2,3]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>